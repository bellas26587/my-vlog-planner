<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: The application is designed as an interactive "Vlog Planner" based on the provided video outline. Instead of a static document, it provides a tool for the user (a vlogger) to structure their content. It features a main single-column layout with distinct cards for each video segment (Introduction, Body, Conclusion). Key interactions include a random title generator to spark creativity, checklists for planning visual and narrative elements, and dedicated text areas for scripting personal reflections for each segment. This structure transforms the report from a passive guide into an active, usable tool for content creation, directly addressing the user's goal of producing daily vlogs. -->
    <!-- Visualization & Content Choices: Report Info: Video outline for a reflective vlog. -> Goal: Provide a dynamic planning tool. -> Viz/Presentation Method: Interactive cards with checklists (HTML checkboxes) and script sections (HTML textareas). A doughnut chart (Chart.js) visualizes the recommended time allocation for video segments (Intro, Body, Outro) to help with pacing. Image idea generation (text prompts) for each section and for the overall thumbnail are added. -> Interaction: Users can generate title ideas, check off planning items, write their script, generate a full script, and now generate image and thumbnail ideas based on their written content. The "Filming & Editing Tips" are in a collapsible section to avoid clutter. -> Justification: This approach makes the planning process more engaging and organized than a static document, enhancing usability for a content creator. Image and thumbnail idea generation further supports visual planning. -> Library/Method: Chart.js for the chart, Vanilla JS for all interactions and API calls for script/title/image generation. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <title>ë§¤ì¼ ë¯¸ì‚¬ ë¬µìƒ ë¸Œì´ë¡œê·¸ í”Œë˜ë„ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f8f7f4;
            color: #44403c;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 300px;
            height: auto;
            margin: auto;
        }
        .card {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border: 1px solid #f0eeeb;
        }
        .card:hover {
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            transform: translateY(-2px);
        }
        .textarea-custom {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #e7e5e4;
            background-color: #fdfcfb;
            transition: all 0.3s ease;
            min-height: 120px;
        }
        .textarea-custom:focus {
            outline: none;
            border-color: #a78bfa;
            box-shadow: 0 0 0 2px rgba(167, 139, 250, 0.2);
            background-color: #ffffff;
        }
        .checkbox-custom:checked {
            background-color: #a78bfa;
            border-color: #a78bfa;
        }
        .btn-primary {
            background-color: #8b5cf6;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 500;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #7c3aed;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #8b5cf6;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: inline-block;
            vertical-align: middle;
            margin-left: 8px;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .script-output, .image-idea-output {
            white-space: pre-wrap;
            font-family: 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            background-color: #fdfcfb;
            padding: 16px;
            border-radius: 8px;
            border: 1px solid #e7e5e4;
            min-height: 100px;
            max-height: 400px;
            overflow-y: auto;
        }
    </style>
</head>
<body class="antialiased">
    <div class="container mx-auto p-4 md:p-8 max-w-4xl">
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-stone-800">ë§¤ì¼ ë¯¸ì‚¬ ë¬µìƒ ë¸Œì´ë¡œê·¸</h1>
            <p class="text-stone-500 mt-2">í•˜ëŠë‹˜ê³¼ì˜ ë§Œë‚¨ì„ ê¸°ë¡í•˜ê³  ë‚˜ëˆ„ëŠ” ë‹¹ì‹ ì„ ìœ„í•œ ì½˜í…ì¸  í”Œë˜ë„ˆ</p>
        </header>

        <main class="space-y-8">
            <!-- Title Ideas -->
            <section id="title-ideas" class="card p-6">
                <h2 class="text-xl font-semibold text-stone-700 mb-4">âœ¨ ì˜ìƒ ì œëª© ì•„ì´ë””ì–´</h2>
                <div class="bg-stone-50 p-4 rounded-lg text-center mb-4">
                    <p id="title-display" class="text-lg text-stone-800 font-medium">ë²„íŠ¼ì„ ëˆŒëŸ¬ ì•„ì´ë””ì–´ë¥¼ ì–»ì–´ë³´ì„¸ìš”!</p>
                    <span id="loading-spinner" class="loading-spinner hidden"></span>
                </div>
                <div class="flex flex-col sm:flex-row gap-4">
                    <button id="title-generator-btn" class="flex-1 btn-primary">ê¸°ì¡´ ì œëª© ì•„ì´ë””ì–´ ë³´ê¸°</button>
                    <button id="ai-title-generator-btn" class="flex-1 btn-primary">ì‘ì„± ë‚´ìš© ê¸°ë°˜ ì œëª© ì¶”ì²œë°›ê¸°</button>
                </div>
            </section>
            
            <!-- Time Allocation Chart -->
            <section class="card p-6">
                <h2 class="text-xl font-semibold text-stone-700 mb-4 text-center">â±ï¸ ì˜ìƒ ê¸¸ì´ ë°°ë¶„ (ê¶Œì¥)</h2>
                 <div class="chart-container">
                    <canvas id="timeAllocationChart"></canvas>
                </div>
                 <p class="text-center text-sm text-stone-500 mt-4">5~10ë¶„ ì˜ìƒ ê¸°ì¤€ì˜ ê¶Œì¥ ê¸¸ì´ì…ë‹ˆë‹¤. ììœ ë¡­ê²Œ ì¡°ì ˆí•˜ì—¬ ìì‹ ë§Œì˜ íë¦„ì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.</p>
            </section>

            <!-- Video Outline -->
            <section id="video-outline">
                <h2 class="text-2xl font-bold text-center text-stone-800 mb-6">ğŸ“ ì˜ìƒ ì•„ì›ƒë¼ì¸ ì‘ì„±í•˜ê¸°</h2>
                <div class="space-y-8">
                    <!-- 1. Introduction -->
                    <div class="card p-6">
                        <h3 class="text-lg font-semibold text-violet-600 mb-4">1. ë„ì… (0ë¶„ 00ì´ˆ ~ 1ë¶„ 00ì´ˆ)</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">ì‹œê°ì  ìš”ì†Œ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                                <ul class="space-y-2 text-sm">
                                    <li><label class="flex items-center"><input type="checkbox" class="h-4 w-4 mr-2 rounded checkbox-custom">ì”ì”í•œ ë°°ê²½ìŒì•…</label></li>
                                    <li><label class="flex items-center"><input type="checkbox" class="h-4 w-4 mr-2 rounded checkbox-custom">ì„±ë‹¹ ê°€ëŠ” ê¸¸ ë˜ëŠ” ì™¸ê´€</label></li>
                                    <li><label class="flex items-center"><input type="checkbox" class="h-4 w-4 mr-2 rounded checkbox-custom">ê³ ìš”í•œ ì„±ë‹¹ ë‚´ë¶€ ëª¨ìŠµ</label></li>
                                    <li><label class="flex items-center"><input type="checkbox" class="h-4 w-4 mr-2 rounded checkbox-custom">ê¸°ë„í•˜ëŠ” ì†, ë¬µì£¼, ì„±ê²½ì±… ë“± í´ë¡œì¦ˆì—…</label></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">ë‚´ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸</h4>
                                <textarea id="intro-script" class="textarea-custom" placeholder="'ë§¤ì¼ ì•„ì¹¨, ì €ëŠ” í•˜ëŠë‹˜ì„ ë§Œë‚˜ëŸ¬ ê°‘ë‹ˆë‹¤...' ì™€ ê°™ì´ ì‹œì²­ìì˜ ê³µê°ì„ ìœ ë„í•˜ëŠ” ì˜¤í”„ë‹ ë©˜íŠ¸ë¥¼ ì‘ì„±í•´ë³´ì„¸ìš”. ì˜¤ëŠ˜ ë¯¸ì‚¬ì— ëŒ€í•œ ê¸°ëŒ€ë‚˜ ì§ˆë¬¸ì„ ë˜ì ¸ë„ ì¢‹ìŠµë‹ˆë‹¤."></textarea>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h4 class="font-medium text-stone-600 mb-2">ì˜ìƒ ì´ë¯¸ì§€ ì•„ì´ë””ì–´</h4>
                            <div id="intro-image-output" class="image-idea-output text-stone-800"></div>
                            <button class="w-full btn-primary mt-4 generate-image-btn" data-section="intro">ì´ë¯¸ì§€ ì•„ì´ë””ì–´ ì¶”ì²œë°›ê¸°</button>
                        </div>
                    </div>

                    <!-- 2. Main Body -->
                    <div class="card p-6">
                        <h3 class="text-lg font-semibold text-violet-600 mb-4">2. ë¯¸ì‚¬ ì¤‘ ë‚˜ì˜ ë‚´ë©´ê³¼ ê°ì • (1ë¶„ 00ì´ˆ ~ 4ë¶„ 00ì´ˆ)</h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">ì˜¤ëŠ˜ì˜ ë³µìŒ ë§ì”€ ë¬µìƒ</h4>
                                <textarea id="gospel-script" class="textarea-custom" placeholder="ì˜¤ëŠ˜ ë³µìŒ ë§ì”€ì„ ë“£ê³  ì–´ë–¤ ê°ì •ì´ë‚˜ ìƒê°ì´ ë“¤ì—ˆë‚˜ìš”? íŠ¹ë³„íˆ ë§ˆìŒì— ì™€ë‹¿ì•˜ë˜ êµ¬ì ˆê³¼ ê·¸ ì´ìœ ë¥¼ ì ì–´ë³´ì„¸ìš”. 'ì´ ë§ì”€ì„ ë“£ëŠ” ìˆœê°„, ë§ˆì¹˜...'"></textarea>
                            </div>
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">ì‹ ë¶€ë‹˜ ê°•ë¡  ë¬µìƒ</h4>
                                <textarea id="homily-script" class="textarea-custom" placeholder="ê°•ë¡  ë§ì”€ ì¤‘ ê°€ì¥ ì¸ìƒ ê¹Šì—ˆë˜ ë¶€ë¶„ì€ ë¬´ì—‡ì¸ê°€ìš”? ë‚˜ì˜ ê³ ë¯¼ê³¼ ì—°ê²°ë˜ì–´ ê¹¨ë‹¬ìŒì´ë‚˜ ìœ„ë¡œë¥¼ ì–»ì—ˆë‹¤ë©´ ê·¸ ê²½í—˜ì„ ê¸°ë¡í•´ë³´ì„¸ìš”. 'ê·¸ë•Œ ì •ë§ ëˆˆë¬¼ì´ í•‘ ëŒì•˜ìŠµë‹ˆë‹¤...'"></textarea>
                            </div>
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">ì„±ì²´ì„±ì‚¬ ë° ê¸°ë„ ë¬µìƒ</h4>
                                <textarea id="eucharist-prayer-script" class="textarea-custom" placeholder="ì„±ì²´ë¥¼ ëª¨ì‹œëŠ” ìˆœê°„, ì–´ë–¤ ë§ˆìŒì´ ë“¤ì—ˆë‚˜ìš”? í•˜ëŠë‹˜ê³¼ì˜ ì¼ì¹˜, í‰í™”ë¡œì›€ ë“± ë§ë¡œ í‘œí˜„í•˜ê¸° ì–´ë ¤ìš´ ê°ì •ë“¤ì„ ì†”ì§í•˜ê²Œ ë‹´ì•„ë³´ì„¸ìš”."></textarea>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h4 class="font-medium text-stone-600 mb-2">ì˜ìƒ ì´ë¯¸ì§€ ì•„ì´ë””ì–´</h4>
                            <div id="main-body-image-output" class="image-idea-output text-stone-800"></div>
                            <button class="w-full btn-primary mt-4 generate-image-btn" data-section="main-body">ì´ë¯¸ì§€ ì•„ì´ë””ì–´ ì¶”ì²œë°›ê¸°</button>
                        </div>
                    </div>
                    
                    <!-- 3. Application -->
                    <div class="card p-6">
                        <h3 class="text-lg font-semibold text-violet-600 mb-4">3. ìƒê° ë° ì‚¶ì—ì˜ ì ìš© (4ë¶„ 00ì´ˆ ~ 8ë¶„ 00ì´ˆ)</h3>
                         <div class="space-y-6">
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">ë‚´ ì‚¶ì— ì ìš©í•˜ê¸°</h4>
                                <textarea id="application-script" class="textarea-custom" placeholder="ì˜¤ëŠ˜ ë°›ì€ ë§ì”€ê³¼ ê¹¨ë‹¬ìŒì„ ì–´ë–»ê²Œ ì‚¶ ì†ì—ì„œ ì‹¤ì²œí•  ìˆ˜ ìˆì„ê¹Œìš”? êµ¬ì²´ì ì¸ ë‹¤ì§ì´ë‚˜ í–‰ë™ ê³„íšì„ ì„¸ì›Œë³´ì„¸ìš”. 'ì˜¤ëŠ˜ í•˜ë£¨ëŠ” ... í•˜ëŠ” ë§ˆìŒìœ¼ë¡œ ì‚´ì•„ì•¼ê² ë‹¤ê³  ë‹¤ì§í–ˆìŠµë‹ˆë‹¤.'"></textarea>
                            </div>
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">ë‚˜ì—ê²Œ í˜ì´ ëœ ì„±ê²½ êµ¬ì ˆ</h4>
                                <textarea id="bible-verse-script" class="textarea-custom" placeholder="ì˜¤ëŠ˜ ë¯¸ì‚¬ ë‚´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íŠ¹ë³„íˆ í˜ì´ ë˜ì—ˆê±°ë‚˜ ë‹¤ì‹œ ë¬µìƒí•˜ê³  ì‹¶ì€ ì„±ê²½ êµ¬ì ˆì´ ìˆë‹¤ë©´ ì ì–´ë³´ì„¸ìš”."></textarea>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h4 class="font-medium text-stone-600 mb-2">ì˜ìƒ ì´ë¯¸ì§€ ì•„ì´ë””ì–´</h4>
                            <div id="application-image-output" class="image-idea-output text-stone-800"></div>
                            <button class="w-full btn-primary mt-4 generate-image-btn" data-section="application">ì´ë¯¸ì§€ ì•„ì´ë””ì–´ ì¶”ì²œë°›ê¸°</button>
                        </div>
                    </div>

                    <!-- 4. Conclusion -->
                    <div class="card p-6">
                        <h3 class="text-lg font-semibold text-violet-600 mb-4">4. ë§ˆë¬´ë¦¬ ë° ì‹œì²­ìì™€ì˜ ì†Œí†µ (8ë¶„ 00ì´ˆ ~ 10ë¶„ 00ì´ˆ)</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                             <div>
                                <h4 class="font-medium text-stone-600 mb-2">ì‹œê°ì  ìš”ì†Œ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
                                <ul class="space-y-2 text-sm">
                                    <li><label class="flex items-center"><input type="checkbox" class="h-4 w-4 mr-2 rounded checkbox-custom">í‰í™”ë¡œìš´ í‘œì •ìœ¼ë¡œ ì„±ë‹¹ ë‚˜ì˜¤ê¸°</label></li>
                                    <li><label class="flex items-center"><input type="checkbox" class="h-4 w-4 mr-2 rounded checkbox-custom">ë”°ëœ»í•œ í–‡ì‚´, í‘¸ë¥¸ í•˜ëŠ˜ ë“± í¬ë§ì  ì´ë¯¸ì§€</label></li>
                                    <li><label class="flex items-center"><input type="checkbox" class="h-4 w-4 mr-2 rounded checkbox-custom">ì±„ë„ ë¡œê³ , êµ¬ë…/ì¢‹ì•„ìš” ë¬¸êµ¬</label></li>
                                </ul>
                            </div>
                            <div>
                                <h4 class="font-medium text-stone-600 mb-2">í´ë¡œì§• ë©˜íŠ¸</h4>
                                <textarea id="closing-script" class="textarea-custom" placeholder="ì˜¤ëŠ˜ì˜ ë¬µìƒì„ í•œë‘ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½í•˜ë©° ë§ˆë¬´ë¦¬í•©ë‹ˆë‹¤. ì‹œì²­ìë“¤ì˜ ë‚˜ëˆ”ì„ ìœ ë„í•˜ëŠ” ì§ˆë¬¸ì„ ë˜ì ¸ ì†Œí†µì„ ì‹œì‘í•´ë³´ì„¸ìš”. 'ì—¬ëŸ¬ë¶„ì€ ì˜¤ëŠ˜ ì–´ë–¤ ì€ì´ì„ ë°›ìœ¼ì…¨ë‚˜ìš”? ëŒ“ê¸€ë¡œ ë‚˜ëˆ ì£¼ì„¸ìš”!'"></textarea>
                            </div>
                        </div>
                        <div class="mt-6">
                            <h4 class="font-medium text-stone-600 mb-2">ì˜ìƒ ì´ë¯¸ì§€ ì•„ì´ë””ì–´</h4>
                            <div id="conclusion-image-output" class="image-idea-output text-stone-800"></div>
                            <button class="w-full btn-primary mt-4 generate-image-btn" data-section="conclusion">ì´ë¯¸ì§€ ì•„ì´ë””ì–´ ì¶”ì²œë°›ê¸°</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Script Generation -->
            <section id="script-generation" class="card p-6">
                <h2 class="text-xl font-semibold text-stone-700 mb-4">âœï¸ ë¡±í¼ ëŒ€ë³¸ ìƒì„±</h2>
                <div class="bg-stone-50 p-4 rounded-lg mb-4">
                    <div id="script-output" class="script-output text-stone-800">
                        ì—¬ê¸°ì— ì‘ì„±ëœ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ëŒ€ë³¸ì´ ìƒì„±ë©ë‹ˆë‹¤.
                    </div>
                    <span id="script-loading-spinner" class="loading-spinner hidden"></span>
                </div>
                <button id="generate-script-btn" class="w-full btn-primary">ì‘ì„± ë‚´ìš© ê¸°ë°˜ ëŒ€ë³¸ ìƒì„±</button>
            </section>

            <!-- Thumbnail Generation -->
            <section id="thumbnail-generation" class="card p-6">
                <h2 class="text-xl font-semibold text-stone-700 mb-4">ğŸ–¼ï¸ ì¸ë„¤ì¼ ì•„ì´ë””ì–´</h2>
                <div class="bg-stone-50 p-4 rounded-lg mb-4">
                    <div id="thumbnail-output" class="image-idea-output text-stone-800">
                        ì „ì²´ ì•„ì›ƒë¼ì¸ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì¸ë„¤ì¼ ì•„ì´ë””ì–´ê°€ ìƒì„±ë©ë‹ˆë‹¤.
                    </div>
                    <span id="thumbnail-loading-spinner" class="loading-spinner hidden"></span>
                </div>
                <button id="generate-thumbnail-btn" class="w-full btn-primary">ì¸ë„¤ì¼ ì•„ì´ë””ì–´ ì¶”ì²œë°›ê¸°</button>
            </section>

            <!-- Filming & Editing Tips -->
            <section id="tips" class="card">
                <button id="accordion-button" class="w-full p-6 text-left">
                    <h2 class="text-xl font-semibold text-stone-700 flex justify-between items-center">
                        ğŸ’¡ ì´¬ì˜ ë° í¸ì§‘ íŒ
                        <span id="accordion-icon" class="transform transition-transform duration-300">â–¼</span>
                    </h2>
                </button>
                <div id="accordion-content" class="accordion-content px-6">
                    <ul class="list-disc list-inside space-y-3 pb-6 text-stone-600">
                        <li><b>ì§„ì •ì„±</b>: ê°€ì¥ ì¤‘ìš”í•©ë‹ˆë‹¤. ê¾¸ë°ˆì—†ì´ ì†”ì§í•œ ê°ì •ê³¼ ìƒê°ì„ ì „ë‹¬í•˜ëŠ” ë° ì§‘ì¤‘í•˜ì„¸ìš”.</li>
                        <li><b>ì¡°ìš©í•œ í™˜ê²½</b>: ë‚´ë ˆì´ì…˜ ë…¹ìŒ ì‹œ ì£¼ë³€ ì†ŒìŒì´ ì—†ëŠ” ì¡°ìš©í•œ ê³³ì—ì„œ ì§„í–‰í•˜ì—¬ ëª©ì†Œë¦¬ê°€ ëª…í™•í•˜ê²Œ ë“¤ë¦¬ë„ë¡ í•©ë‹ˆë‹¤.</li>
                        <li><b>ë‹¤ì–‘í•œ ì•µê¸€</b>: ë¯¸ì‚¬ ì „í›„, ì„±ê²½ ì½ëŠ” ëª¨ìŠµ, ë¬µìƒí•˜ëŠ” ëª¨ìŠµ ë“± ë‹¤ì–‘í•œ ê°ë„ì—ì„œ ì´¬ì˜í•˜ì—¬ ì˜ìƒì˜ ì§€ë£¨í•¨ì„ ëœì–´ì¤ë‹ˆë‹¤.</li>
                        <li><b>ë°°ê²½ ìŒì•…</b>: ì˜ìƒì˜ ë¶„ìœ„ê¸°ë¥¼ í•´ì¹˜ì§€ ì•ŠëŠ” ì”ì”í•˜ê³  ê°ì„±ì ì¸ ë°°ê²½ ìŒì•…ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</li>
                        <li><b>ìë§‰ í™œìš©</b>: ë³µìŒ ë§ì”€ êµ¬ì ˆì´ë‚˜ ê°•ë¡ ì˜ í•µì‹¬ ë¬¸êµ¬, ìì‹ ì˜ ì¤‘ìš”í•œ ìƒê° ë“±ì„ ìë§‰ìœ¼ë¡œ ë„£ì–´ ì‹œì²­ìë“¤ì´ ë‚´ìš©ì„ ë†“ì¹˜ì§€ ì•Šë„ë¡ ë•ìŠµë‹ˆë‹¤.</li>
                        <li><b>ìˆì¸  ì—°ê³„</b>: ë¡±í¼ ì˜ìƒì—ì„œ ê°€ì¥ ê°ë™ì ì¸ 1ë¶„ ì´ë‚´ì˜ ë¶€ë¶„ì„ ì˜ë¼ ì‡¼ì¸ ë¡œ ë¯¸ë¦¬ ê³µê°œí•˜ì—¬ ë¡±í¼ ì˜ìƒìœ¼ë¡œì˜ ìœ ì…ì„ ìœ ë„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                    </ul>
                </div>
            </section>
        </main>
        
        <footer class="text-center mt-12 text-sm text-stone-400">
            <p>&copy; 2025. This interactive planner is designed to support your content creation journey.</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Title Generator
            const titleIdeas = [
                "ë§¤ì¼ ë¯¸ì‚¬, í•˜ëŠë‹˜ê³¼ì˜ ì°¡í•œ ëŒ€í™” | ë‚˜ì˜ ì‹ ì•™ ë¸Œì´ë¡œê·¸",
                "ë³µìŒ ë§ì”€ì´ ë‚´ ë§ˆìŒì— ë‹¿ì„ ë•Œ | ë¯¸ì‚¬ í›„ ë¬µìƒ",
                "ëˆˆë¬¼ í•‘, ë§ˆìŒ ì°¡... í•˜ëŠë‹˜ì´ ì£¼ì‹  ì˜¤ëŠ˜ì˜ ìœ„ë¡œ",
                "ê°“ìƒ ì‹ ì•™ì¸: ë¯¸ì‚¬ì—ì„œ ì–»ëŠ” ë§¤ì¼ì˜ ì€ì´"
            ];
            const titleDisplay = document.getElementById('title-display');
            const titleGeneratorBtn = document.getElementById('title-generator-btn');
            const aiTitleGeneratorBtn = document.getElementById('ai-title-generator-btn');
            const loadingSpinner = document.getElementById('loading-spinner');

            titleGeneratorBtn.addEventListener('click', () => {
                const randomIndex = Math.floor(Math.random() * titleIdeas.length);
                titleDisplay.textContent = titleIdeas[randomIndex];
            });

            aiTitleGeneratorBtn.addEventListener('click', async () => {
                const textareas = document.querySelectorAll('.textarea-custom');
                let combinedContent = '';
                textareas.forEach(textarea => {
                    combinedContent += textarea.value + '\n';
                });

                if (combinedContent.trim() === '') {
                    titleDisplay.textContent = 'ë‚´ìš©ì„ ë¨¼ì € ì‘ì„±í•´ì£¼ì„¸ìš”!';
                    return;
                }

                loadingSpinner.classList.remove('hidden');
                titleDisplay.textContent = 'ì œëª© ì•„ì´ë””ì–´ ìƒì„± ì¤‘...';

                try {
                    let chatHistory = [];
                    const prompt = `ë‹¤ìŒì€ ë§¤ì¼ ë¯¸ì‚¬ ë¬µìƒ ë¸Œì´ë¡œê·¸ì˜ ì•„ì›ƒë¼ì¸ ë‚´ìš©ì…ë‹ˆë‹¤. ì´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ 20~40ëŒ€ ì²­ë…„ë“¤ì´ í¥ë¯¸ë¥¼ ëŠë‚„ ë§Œí•œ ìœ íŠœë¸Œ ì˜ìƒ ì œëª© 3~5ê°œë¥¼ ì¶”ì²œí•´ ì£¼ì„¸ìš”. ê° ì œëª©ì€ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ê³ , ë„ˆë¬´ ê¸¸ì§€ ì•Šê²Œ ì‘ì„±í•´ì£¼ì„¸ìš”.
                    
                    ì•„ì›ƒë¼ì¸ ë‚´ìš©:
                    ${combinedContent}`;

                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        titleDisplay.textContent = text;
                    } else {
                        titleDisplay.textContent = 'ì œëª© ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
                    }
                } catch (error) {
                    console.error('Error generating title:', error);
                    titleDisplay.textContent = 'ì œëª© ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                } finally {
                    loadingSpinner.classList.add('hidden');
                }
            });

            // Script Generation
            const generateScriptBtn = document.getElementById('generate-script-btn');
            const scriptOutput = document.getElementById('script-output');
            const scriptLoadingSpinner = document.getElementById('script-loading-spinner');

            generateScriptBtn.addEventListener('click', async () => {
                const textareas = document.querySelectorAll('.textarea-custom');
                let combinedContent = '';
                textareas.forEach(textarea => {
                    if (textarea.value.trim() !== '') {
                        combinedContent += textarea.previousElementSibling.textContent.trim() + ": " + textarea.value.trim() + '\n\n';
                    }
                });

                if (combinedContent.trim() === '') {
                    scriptOutput.textContent = 'ëŒ€ë³¸ì„ ìƒì„±í•˜ë ¤ë©´ ì•„ì›ƒë¼ì¸ ë‚´ìš©ì„ ë¨¼ì € ì‘ì„±í•´ì£¼ì„¸ìš”!';
                    return;
                }

                scriptLoadingSpinner.classList.remove('hidden');
                scriptOutput.textContent = 'ëŒ€ë³¸ ìƒì„± ì¤‘... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”.';

                try {
                    let chatHistory = [];
                    const prompt = `ë‹¤ìŒì€ ë§¤ì¼ ë¯¸ì‚¬ ë¬µìƒ ë¸Œì´ë¡œê·¸ì˜ ì•„ì›ƒë¼ì¸ ë‚´ìš©ì…ë‹ˆë‹¤. ì´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ 5ë¶„~10ë¶„ ë¶„ëŸ‰ì˜ ë¡±í¼ ëŒ€ë³¸ì„ ì‘ì„±í•´ ì£¼ì„¸ìš”. ëŒ€ë³¸ì€ ë¸Œì´ë¡œê·¸ í˜•ì‹ì— ë§ì¶° ìì—°ìŠ¤ëŸ¬ìš´ êµ¬ì–´ì²´ë¡œ ì‘ì„±í•˜ê³ , ë„ì…-ë³¸ë¬¸(ë¯¸ì‚¬ ì¤‘ ë‚´ë©´ê³¼ ê°ì •, ê°•ë¡  ë¬µìƒ, ì„±ì²´ì„±ì‚¬/ê¸°ë„ ë¬µìƒ)-ì ìš©-ë§ˆë¬´ë¦¬ ìˆœì„œë¡œ ë‚´ìš©ì„ êµ¬ì„±í•´ì£¼ì„¸ìš”. ê° ì„¹ì…˜ë³„ë¡œ êµ¬ì²´ì ì¸ ë‚´ìš©ê³¼ í•¨ê»˜ ì‹œì²­ìì—ê²Œ ë§ì„ ê±°ëŠ” ë“¯í•œ ì¹œê·¼í•œ í†¤ìœ¼ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”.

ì•„ì›ƒë¼ì¸ ë‚´ìš©:
${combinedContent}`;

                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const scriptText = result.candidates[0].content.parts[0].text;
                        scriptOutput.textContent = scriptText;
                    } else {
                        scriptOutput.textContent = 'ëŒ€ë³¸ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
                    }
                } catch (error) {
                    console.error('Error generating script:', error);
                    scriptOutput.textContent = 'ëŒ€ë³¸ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                } finally {
                    scriptLoadingSpinner.classList.add('hidden');
                }
            });

            // Image Generation for each section
            const generateImageButtons = document.querySelectorAll('.generate-image-btn');
            generateImageButtons.forEach(button => {
                button.addEventListener('click', async (event) => {
                    const section = event.target.dataset.section;
                    let content = '';
                    let outputElement;

                    if (section === 'intro') {
                        content = document.getElementById('intro-script').value;
                        outputElement = document.getElementById('intro-image-output');
                    } else if (section === 'main-body') {
                        content = document.getElementById('gospel-script').value + '\n' +
                                  document.getElementById('homily-script').value + '\n' +
                                  document.getElementById('eucharist-prayer-script').value;
                        outputElement = document.getElementById('main-body-image-output');
                    } else if (section === 'application') {
                        content = document.getElementById('application-script').value + '\n' +
                                  document.getElementById('bible-verse-script').value;
                        outputElement = document.getElementById('application-image-output');
                    } else if (section === 'conclusion') {
                        content = document.getElementById('closing-script').value;
                        outputElement = document.getElementById('conclusion-image-output');
                    }

                    if (content.trim() === '') {
                        outputElement.textContent = 'í•´ë‹¹ ì„¹ì…˜ì˜ ë‚´ìš©ì„ ë¨¼ì € ì‘ì„±í•´ì£¼ì„¸ìš”!';
                        return;
                    }

                    outputElement.textContent = 'ì´ë¯¸ì§€ ì•„ì´ë””ì–´ ìƒì„± ì¤‘...';
                    event.target.disabled = true; // Disable button during generation

                    try {
                        let chatHistory = [];
                        const prompt = `ë‹¤ìŒ ë¸Œì´ë¡œê·¸ ì„¹ì…˜ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì˜ìƒì— ì‚¬ìš©í•  ì´ë¯¸ì§€ ì•„ì´ë””ì–´ 3~5ê°œë¥¼ êµ¬ì²´ì ì¸ ì„¤ëª…ìœ¼ë¡œ ì¶”ì²œí•´ì£¼ì„¸ìš”. ê° ì•„ì´ë””ì–´ëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ê³ , ì˜ìƒì— í™œìš©í•  ìˆ˜ ìˆëŠ” ì‹œê°ì ì¸ ìš”ì†Œì— ì´ˆì ì„ ë§ì¶°ì£¼ì„¸ìš”.

                        ì„¹ì…˜ ë‚´ìš©:
                        ${content}`;

                        chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                        const payload = { contents: chatHistory };
                        const apiKey = "";
                        const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                        const response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        const result = await response.json();
                        if (result.candidates && result.candidates.length > 0 &&
                            result.candidates[0].content && result.candidates[0].content.parts &&
                            result.candidates[0].content.parts.length > 0) {
                            const imageIdeas = result.candidates[0].content.parts[0].text;
                            outputElement.textContent = imageIdeas;
                        } else {
                            outputElement.textContent = 'ì´ë¯¸ì§€ ì•„ì´ë””ì–´ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
                        }
                    } catch (error) {
                        console.error('Error generating image ideas:', error);
                        outputElement.textContent = 'ì´ë¯¸ì§€ ì•„ì´ë””ì–´ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                    } finally {
                        event.target.disabled = false; // Re-enable button
                    }
                });
            });

            // Thumbnail Generation
            const generateThumbnailBtn = document.getElementById('generate-thumbnail-btn');
            const thumbnailOutput = document.getElementById('thumbnail-output');
            const thumbnailLoadingSpinner = document.getElementById('thumbnail-loading-spinner');

            generateThumbnailBtn.addEventListener('click', async () => {
                const textareas = document.querySelectorAll('.textarea-custom');
                let combinedContent = '';
                textareas.forEach(textarea => {
                    if (textarea.value.trim() !== '') {
                        combinedContent += textarea.value.trim() + '\n';
                    }
                });

                if (combinedContent.trim() === '') {
                    thumbnailOutput.textContent = 'ì¸ë„¤ì¼ ì•„ì´ë””ì–´ë¥¼ ìƒì„±í•˜ë ¤ë©´ ì•„ì›ƒë¼ì¸ ë‚´ìš©ì„ ë¨¼ì € ì‘ì„±í•´ì£¼ì„¸ìš”!';
                    return;
                }

                thumbnailLoadingSpinner.classList.remove('hidden');
                thumbnailOutput.textContent = 'ì¸ë„¤ì¼ ì•„ì´ë””ì–´ ìƒì„± ì¤‘... ì ì‹œë§Œ ê¸°ë‹¤ë ¤ ì£¼ì„¸ìš”.';

                try {
                    let chatHistory = [];
                    const prompt = `ë‹¤ìŒ ë¸Œì´ë¡œê·¸ ì „ì²´ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ìœ íŠœë¸Œ ì¸ë„¤ì¼ë¡œ ì‚¬ìš©í•  ì´ë¯¸ì§€ ì•„ì´ë””ì–´ 3~5ê°œë¥¼ êµ¬ì²´ì ì¸ ì„¤ëª…ìœ¼ë¡œ ì¶”ì²œí•´ì£¼ì„¸ìš”. ê° ì•„ì´ë””ì–´ëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ê³ , ì‹œì²­ìì˜ ì‹œì„ ì„ ì‚¬ë¡œì¡ì„ ìˆ˜ ìˆëŠ” ê°•ë ¬í•˜ê³  í•µì‹¬ì ì¸ ì´ë¯¸ì§€ì— ì´ˆì ì„ ë§ì¶°ì£¼ì„¸ìš”.

                    ì „ì²´ ë¸Œì´ë¡œê·¸ ë‚´ìš©:
                    ${combinedContent}`;

                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const thumbnailIdeas = result.candidates[0].content.parts[0].text;
                        thumbnailOutput.textContent = thumbnailIdeas;
                    } else {
                        thumbnailOutput.textContent = 'ì¸ë„¤ì¼ ì•„ì´ë””ì–´ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.';
                    }
                } catch (error) {
                    console.error('Error generating thumbnail ideas:', error);
                    thumbnailOutput.textContent = 'ì¸ë„¤ì¼ ì•„ì´ë””ì–´ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                } finally {
                    thumbnailLoadingSpinner.classList.add('hidden');
                }
            });


            // Accordion for Tips
            const accordionButton = document.getElementById('accordion-button');
            const accordionContent = document.getElementById('accordion-content');
            const accordionIcon = document.getElementById('accordion-icon');

            accordionButton.addEventListener('click', () => {
                if (accordionContent.style.maxHeight) {
                    accordionContent.style.maxHeight = null;
                    accordionIcon.style.transform = 'rotate(0deg)';
                } else {
                    accordionContent.style.maxHeight = accordionContent.scrollHeight + "px";
                    accordionIcon.style.transform = 'rotate(180deg)';
                }
            });

            // Chart.js Time Allocation Chart
            const ctx = document.getElementById('timeAllocationChart').getContext('2d');
            const timeAllocationChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['ë„ì… (10%)', 'ë‚´ë©´/ê°ì • (30%)', 'ì ìš© (40%)', 'ë§ˆë¬´ë¦¬ (20%)'],
                    datasets: [{
                        label: 'ì˜ìƒ ê¸¸ì´ ë°°ë¶„',
                        data: [10, 30, 40, 20],
                        backgroundColor: [
                            'rgba(192, 132, 252, 0.7)', // purple-300
                            'rgba(167, 139, 250, 0.8)', // violet-400
                            'rgba(139, 92, 246, 0.9)',  // violet-500
                            'rgba(124, 58, 237, 1.0)'   // violet-600
                        ],
                        borderColor: [
                            '#ffffff'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: {
                                    family: "'Noto Sans KR', sans-serif",
                                    size: 12
                                },
                                color: '#57534e' // stone-600
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '%';
                                    }
                                    return label;
                                }
                            }
                        }
                    }
                }
            });
        });
    </script>
</body>
</html>